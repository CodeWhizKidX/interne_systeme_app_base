# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–‹ç™ºãƒ«ãƒ¼ãƒ«

## æ¦‚è¦
ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯React (ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰) ã¨ Node.js (Express, Prisma) (ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰) ã‚’ä½¿ç”¨ã—ãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚
AI (Cursor) ã§é–‹ç™ºã™ã‚‹éš›ã¯ã€ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã«å³å¯†ã«å¾“ã£ã¦ãã ã•ã„ã€‚

## ğŸ“– å…¨ä½“çš„ãªå‘½åè¦å‰‡ (æœ€é‡è¦)
ã‚³ãƒ¼ãƒ‰å…¨ä½“ã®å¯èª­æ€§ã¨ä¸€è²«æ€§ã‚’ä¿ã¤ãŸã‚ã€ä»¥ä¸‹ã®å‘½åè¦å‰‡ã‚’å³å®ˆã—ã¦ãã ã•ã„ã€‚

* **ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ (camelCase)**:
    * **å¤‰æ•°**, **é–¢æ•°**, **ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£** ã¯ã™ã¹ã¦ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ã§å‘½åã—ã¦ãã ã•ã„ã€‚
    * ä¾‹: `userData`, `fetchUserData`, `currentUser`

* **ãƒ‘ã‚¹ã‚«ãƒ«ã‚±ãƒ¼ã‚¹ (PascalCase)**:
    * **ã‚¯ãƒ©ã‚¹å**, **å‹å®šç¾© (Interface / Type)**, **Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå** ã¯ã™ã¹ã¦ãƒ‘ã‚¹ã‚«ãƒ«ã‚±ãƒ¼ã‚¹ã§å‘½åã—ã¦ãã ã•ã„ã€‚
    * ä¾‹: `UserService`, `PromptCard`, `UserProfilePage`

* **ã‚¢ãƒƒãƒ‘ãƒ¼ã‚±ãƒ¼ã‚¹ãƒ»ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹ (UPPER_SNAKE_CASE)**:
    * `constants/` ãƒ•ã‚©ãƒ«ãƒ€ã§ç®¡ç†ã™ã‚‹ã‚ˆã†ãªã€**ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªå®šæ•°**ï¼ˆãƒ—ãƒ­ã‚°ãƒ©ãƒ å®Ÿè¡Œä¸­ã«å¤‰æ›´ã•ã‚Œãªã„å›ºå®šå€¤ï¼‰ã«ã®ã¿ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
    * ä¾‹: `DEFAULT_ERROR_MESSAGE`, `API_BASE_URL`

## â­ï¸ APIé€£æºã¨ã‚³ãƒ¼ãƒ‰è‡ªå‹•ç”Ÿæˆ (æœ€é‡è¦ãƒ«ãƒ¼ãƒ«) â­ï¸

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ **TSOA** ã‚’ä½¿ç”¨ã—ã€Backendã®Controllerå®šç¾©ã‹ã‚‰Frontendã®APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚AIã¯ä»¥ä¸‹ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å¿…ãšç†è§£ã—ã€éµå®ˆã—ã¦ãã ã•ã„ã€‚

1.  **Backend (Controllerå®šç¾©)**:
    * APIã®ä»•æ§˜ï¼ˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼‰ã¯ã€`backend/src/controllers/` é…ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã« **TSOAã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿** (`@Route`, `@Post`, `@Body`, `@Query` ãªã©) ã‚’ç”¨ã„ã¦å®šç¾©ã—ã¾ã™ã€‚

2.  **ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ (ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ)**:
    * Controllerã‚’ä¿®æ­£ãƒ»è¿½åŠ ã—ãŸå¾Œã¯ã€å¿…ãš `npm run exec-api` ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
    * ã“ã‚Œã«ã‚ˆã‚Šã€`frontend/src/generated/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã€APIå‘¼ã³å‡ºã—ç”¨ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ¼ãƒ‰ã¨TypeScriptã®å‹å®šç¾©ãŒè‡ªå‹•ç”Ÿæˆãƒ»æ›´æ–°ã•ã‚Œã¾ã™ã€‚

3.  **Frontend (APIå‘¼ã³å‡ºã—)**:
    * Frontendå´ã§APIã‚’å‘¼ã³å‡ºã™éš›ã¯ã€**çµ¶å¯¾ã«æ‰‹å‹•ã§ `axios` ã‚„ `fetch` ã‚’å®Ÿè£…ã—ãªã„ã§ãã ã•ã„**ã€‚
    * **`fetch()` ã‚„ `axios.create()` ã‚’ç›´æ¥ä½¿ç”¨ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¯ä¸€åˆ‡æ›¸ã‹ãªã„ã§ãã ã•ã„ã€‚**
    * å¿…ãš `frontend/src/api/useApiClient.ts` ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ **`useApiClient` ãƒ•ãƒƒã‚¯**ï¼ˆãŠã‚ˆã³ãã®ä¸­ã® `fetchUserData` ãªã©ã®ãƒ©ãƒƒãƒ‘ãƒ¼é–¢æ•°ï¼‰ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
    * ã“ã®ãƒ©ãƒƒãƒ‘ãƒ¼é–¢æ•°ã¯ã€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®ç®¡ç†ã‚„å…±é€šã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚
    * ãƒ©ãƒƒãƒ‘ãƒ¼é–¢æ•°ã«ã¯ã€**å¼•æ•°ã¨ã—ã¦ `src/api/api.ts` ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸè‡ªå‹•ç”Ÿæˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆä¾‹: `promptApi`, `shareRequestApi`ï¼‰ã®ãƒ¡ã‚½ãƒƒãƒ‰**ï¼ˆä¾‹: `() => promptApi.getPromptList()`ï¼‰ã‚’æ¸¡ã—ã¦ãã ã•ã„ã€‚
    * ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚„ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‹ã‚‚ã€`frontend/src/generated/` ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚ŒãŸã‚‚ã®ã‚’åˆ©ç”¨ã—ã¦ãã ã•ã„ã€‚
    * **æ–°ã—ãAPIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹å ´åˆ**:
        * `backend/src/controllers/` ã«ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’è¿½åŠ å¾Œã€`npm run exec-api` ã‚’å®Ÿè¡Œ
        * `frontend/src/api/api.ts` ã«ç”Ÿæˆã•ã‚ŒãŸAPIã‚¯ãƒ©ã‚¹ï¼ˆä¾‹: `ShareRequestApi`ï¼‰ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
        * ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯ `api.ts` ã‹ã‚‰ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆä¾‹: `shareRequestApi`ï¼‰ã‚’ä½¿ç”¨

---

## âš™ï¸ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Node.js) ãƒ«ãƒ¼ãƒ« (`backend/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª)

### ä½¿ç”¨æŠ€è¡“
* **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Express
* **ORM**: Prisma (ã‚¹ã‚­ãƒ¼ãƒã¯ `backend/prisma/schema.prisma` ã§ç®¡ç†)

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ (DB)
* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ï¼ˆ`frontend/`ã‚„`backend/`ã¨åŒã˜éšå±¤ï¼‰ã« **`db/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª** ãŒå­˜åœ¨ã—ã¾ã™ã€‚
* **`db/`**: ç¾åœ¨åˆ©ç”¨ã—ã¦ã„ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£æƒ…å ±ï¼ˆERå›³ã€ãƒ‡ãƒ¼ã‚¿å®šç¾©ã€ãƒ€ãƒ³ãƒ—ãªã©ï¼‰ãŒæ ¼ç´ã•ã‚Œã¦ã„ã¾ã™ã€‚
* **`db/ddl/`**: å„ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã® `CREATE` æ–‡ï¼ˆDDLï¼‰ãŒå®šç¾©ãƒ»æ ¼ç´ã•ã‚Œã¦ã„ã¾ã™ã€‚Prismaã‚¹ã‚­ãƒ¼ãƒã®å…ƒæƒ…å ±ã‚„å‚ç…§æƒ…å ±ã¨ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚
* **é‡è¦**: `backend/prisma/schema.prisma` ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€GCPä¸Šã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹æˆã‚’æ­£ã¨ã—ã¦ã€`npx prisma db pull` ã‚³ãƒãƒ³ãƒ‰ã§è‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™ã€‚
* **çµ¶å¯¾ã« `schema.prisma` ã‚’æ‰‹å‹•ã§ç·¨é›†ã—ãªã„ã§ãã ã•ã„ã€‚** ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ ã‚’å¤‰æ›´ã™ã‚‹å ´åˆã¯ã€`db/ddl/` é…ä¸‹ã®DDLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«é©ç”¨ã—ãŸå¾Œã€`npx prisma db pull` ã§ã‚¹ã‚­ãƒ¼ãƒã‚’å†ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚

### Prismaã‚¹ã‚­ãƒ¼ãƒç®¡ç†ï¼ˆæœ€é‡è¦ï¼‰
* **`backend/prisma/schema.prisma` ã¯çµ¶å¯¾ã«æ‰‹å‹•ã§ç·¨é›†ã—ãªã„ã§ãã ã•ã„ã€‚**
* ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€GCPä¸Šã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹æˆã‚’æ­£ã¨ã—ã¦ã€`npx prisma db pull` ã‚³ãƒãƒ³ãƒ‰ã§è‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™ã€‚
* ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ ã‚’å¤‰æ›´ã™ã‚‹å ´åˆã¯ã€ä»¥ä¸‹ã®æ‰‹é †ã«å¾“ã£ã¦ãã ã•ã„ï¼š
    1. `db/ddl/` é…ä¸‹ã®DDLãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£
    2. ä¿®æ­£ã—ãŸDDLã‚’GCPä¸Šã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«é©ç”¨
    3. `cd backend && npm run exec-prisma` ã‚’å®Ÿè¡Œã—ã¦ã‚¹ã‚­ãƒ¼ãƒã‚’å†ç”Ÿæˆ
    4. `npx prisma generate` ã‚’å®Ÿè¡Œã—ã¦Prismaã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’å†ç”Ÿæˆ
* Prismaã‚¹ã‚­ãƒ¼ãƒã®ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³åã¯ã€`db pull`ã§è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ãŸã‚ã€é•·ã„åå‰ï¼ˆä¾‹: `usersShareRequestsUserIdTousers`ï¼‰ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
* ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã¯ã€å®Ÿéš›ã«ç”Ÿæˆã•ã‚ŒãŸPrismaã‚¹ã‚­ãƒ¼ãƒã®ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³åã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

### ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆï¼ˆæ—¢å­˜ãƒ«ãƒ¼ãƒ«ï¼‰
`backend/src/` ä»¥ä¸‹ã®æ§‹æˆãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦ãã ã•ã„ã€‚

* **`controllers/`**: å‡¦ç†ã®å…¥ã‚Šå£å‡ºå£ã€‚**TSOAã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã‚’ç”¨ã„ã¦APIå®šç¾©ã‚’è¡Œã†å ´æ‰€ã§ã™ã€‚** HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã‚Šã€`services` ã‚’å‘¼ã³å‡ºã—ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã—ã¾ã™ã€‚
* **`services/`**: ä¸»è¦ãªãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œï¼ˆPrisma ClientçµŒç·¯ï¼‰ã‚„è¤‡é›‘ãªè¨ˆç®—ã¯ã“ã“ã§è¡Œã„ã¾ã™ã€‚ï¼ˆå‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯ï¼‰
* **`constants/`**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†…ã§å…±æœ‰ã™ã‚‹å®šæ•°ï¼ˆä¾‹: ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã€å›ºå®šå€¤ã€å…±é€šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãªã©ï¼‰ã‚’ç®¡ç†ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹: `index.ts`, `errorCodes.ts`ï¼‰ã‚’é…ç½®ã—ã¾ã™ã€‚è¤‡æ•°ã®å ´æ‰€ã§åˆ©ç”¨ã™ã‚‹å€¤ã¯ã“ã“ã«å®šç¾©ã—ã€ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
* **`type/`**: å„å‡¦ç†ã§åˆ©ç”¨ã•ã‚Œã‚‹å‹å®šç¾©ã€‚ï¼ˆãŸã ã—ã€APIã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ãªã‚‹å‹ã¯Controllerã§TSOAçµŒç”±ã§å®šç¾©ã™ã‚‹ã“ã¨ã‚’å„ªå…ˆã—ã¾ã™ï¼‰
* **`generated/`**: `npm run exec-tsoa` ãªã©ã§è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã€‚**ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯çµ¶å¯¾ã«æ‰‹å‹•ã§ç·¨é›†ã—ãªã„ã§ãã ã•ã„**ã€‚
* **`routes/`**: TSOAã§ç”Ÿæˆã•ã‚ŒãŸãƒ«ãƒ¼ãƒˆå®šç¾©ã‚’Expressã«ç™»éŒ²ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã€‚

---

## ğŸš€ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (React) ãƒ«ãƒ¼ãƒ« (`frontend/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª)

### ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆï¼ˆææ¡ˆï¼‰
`frontend/src/` ä»¥ä¸‹ã®æ§‹æˆãƒ«ãƒ¼ãƒ«ã‚’æ¡ç”¨ã—ã¾ã™ã€‚

* **`api/`**: APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã€‚
    * **`api.ts`**: `src/generated/` ã‹ã‚‰APIãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆ`UserApi`, `PromptApi`ãªã©ï¼‰ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã€Axiosã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãªã©ã‚’è¨­å®šã—ã¦ **ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–** ã— `export` ã—ã¾ã™ã€‚ï¼ˆä¾‹: `export const userApi = new UserApi(...)`ï¼‰
    * **`useApiClient.ts`**: APIå‘¼ã³å‡ºã—ã®å…±é€šãƒ©ãƒƒãƒ‘ãƒ¼ãƒ•ãƒƒã‚¯ï¼ˆ`fetchUserData` ãªã©ã‚’å«ã‚€ï¼‰ã€‚
* **`constants/`**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å†…ã§å…±æœ‰ã™ã‚‹å®šæ•°ï¼ˆä¾‹: è¡¨ç¤ºæ–‡è¨€ã€å›ºå®šãƒ‘ã‚¹ã€Zustandã®ã‚­ãƒ¼ã€ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ãªã©ï¼‰ã‚’ç®¡ç†ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¾‹: `index.ts`, `paths.ts`, `uiConstants.ts`ï¼‰ã‚’é…ç½®ã—ã¾ã™ã€‚è¤‡æ•°ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„ãƒšãƒ¼ã‚¸ã§åˆ©ç”¨ã™ã‚‹å€¤ã¯ã“ã“ã«å®šç¾©ã—ã€ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
* **`generated/`**: **TSOAã«ã‚ˆã£ã¦è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã™ã€‚** APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨å‹å®šç¾©ãŒå«ã¾ã‚Œã¾ã™ã€‚**æ‰‹å‹•ã§ç·¨é›†ã—ãªã„ã§ãã ã•ã„ã€‚**
* **`components/`**: å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
    * `ui/`: ãƒœã‚¿ãƒ³ã€ã‚¤ãƒ³ãƒ—ãƒƒãƒˆãªã©æœ€å°å˜ä½ã®UIéƒ¨å“ã€‚
    * `layout/`: ãƒ˜ãƒƒãƒ€ãƒ¼ã€ãƒ•ãƒƒã‚¿ãƒ¼ãªã©ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€‚
    * `features/`: ç‰¹å®šã®æ©Ÿèƒ½ï¼ˆä¾‹: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ï¼‰ã«é–¢é€£ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç¾¤ã€‚
* **`hooks/`**: **`api/` ä»¥å¤–ã®**æ±ç”¨çš„ãªã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã€‚
* **`store/` (or `context/`)**: çŠ¶æ…‹ç®¡ç† (Zustand, Context APIãªã©)
* **`types/`**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å›ºæœ‰ã®å‹å®šç¾©ã€‚ï¼ˆAPIé–¢é€£ã®å‹ã¯ `src/generated/` ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ä½¿ç”¨ã—ã¦ãã ã•ã„ï¼‰
* **`pages/` (or `app/`)**: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«å¯¾å¿œã™ã‚‹ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€‚

### APIå‘¼ã³å‡ºã—ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§APIã‚’å‘¼ã³å‡ºã™éš›ã¯ã€ä»¥ä¸‹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¾“ã£ã¦ãã ã•ã„ã€‚

**âœ… æ­£ã—ã„å®Ÿè£…ä¾‹:**
```typescript
// 1. api.ts ã‹ã‚‰ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import { promptApi, shareRequestApi } from "../../../api/api"; 
// 2. ãƒ©ãƒƒãƒ‘ãƒ¼ãƒ•ãƒƒã‚¯ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import { useApiClient } from "../../../api/useApiClient"; 
// (å¿…è¦ã«å¿œã˜ã¦ 'generated' ã‹ã‚‰å‹ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ)
// import { PromptCard } from "../../../generated";
// (å¿…è¦ã«å¿œã˜ã¦ 'constants' ã‹ã‚‰å®šæ•°ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ)
// import { DEFAULT_ERROR_MESSAGE } from "../../../constants/messages";

// ... ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†… ...
const { fetchUserData } = useApiClient(); // 3. ãƒ©ãƒƒãƒ‘ãƒ¼ãƒ•ãƒƒã‚¯ã‚’å–å¾—
const [isLoading, setIsLoading] = useState(true); // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ï¼ˆãƒ©ãƒƒãƒ‘ãƒ¼ãŒç®¡ç†ã—ãªã„å ´åˆï¼‰

// ... å®Ÿè¡Œæ™‚ï¼ˆä¾‹: useEffectå†…ï¼‰ ...
try {
  // 4. ãƒ©ãƒƒãƒ‘ãƒ¼ã«é–¢æ•°ã¨ã—ã¦è‡ªå‹•ç”Ÿæˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æ¸¡ã™
  const res = await fetchUserData(() => promptApi.getPromptList());
  
  // ã¾ãŸã¯ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»˜ãã®APIå‘¼ã³å‡ºã—
  const res2 = await fetchUserData(() => 
    shareRequestApi.createShareRequest({
      promptId: 123,
      message: "å…±æœ‰ç”³è«‹ã—ã¾ã™"
    })
  );

  // 5. è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸå‹ (generated) ã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿å‡¦ç†
  const fetchedCards: PromptCard[] = res?.data.results ?? [];
  
  // ... (ãƒ‡ãƒ¼ã‚¿åŠ å·¥å‡¦ç†ãªã©) ...

  setDisplayCards(processedCards);
} catch (err) {
  console.error(err); // å…±é€šã‚¨ãƒ©ãƒ¼å‡¦ç†ã¯ãƒ©ãƒƒãƒ‘ãƒ¼å´ã§è¡Œã‚ã‚Œã‚‹æƒ³å®š
  // (ä¾‹: å®šæ•°ã‚’ä½¿ã£ãŸãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯)
  // alert(DEFAULT_ERROR_MESSAGE);
} finally {
  setIsLoading(false); // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è§£é™¤
}
```

**âŒ ç¦æ­¢ã•ã‚Œã‚‹å®Ÿè£…ï¼ˆçµ¶å¯¾ã«æ›¸ã‹ãªã„ã§ãã ã•ã„ï¼‰:**
```typescript
// âŒ fetch() ã‚’ç›´æ¥ä½¿ç”¨
const response = await fetch(`${API_URL}/api/share-requests`, {
  method: "GET",
  headers: { Authorization: `Bearer ${token}` }
});

// âŒ axios ã‚’ç›´æ¥ä½¿ç”¨
const response = await axios.get(`${API_URL}/api/share-requests`, {
  headers: { Authorization: `Bearer ${token}` }
});

// âŒ localStorage.getItem("id_token") ã‚’ç›´æ¥ä½¿ç”¨ã—ã¦ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—
const token = localStorage.getItem("id_token");
```

**ä¸Šè¨˜ã®ã‚ˆã†ãªå®Ÿè£…ã¯ä¸€åˆ‡ç¦æ­¢ã§ã™ã€‚å¿…ãšè‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸAPIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨useApiClientã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚**